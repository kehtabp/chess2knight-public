body{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f4f4f4;color:#333;overflow:hidden;height:100vh;display:flex;flex-direction:column}.map-filters{position:absolute;right:16px;top:50%;transform:translateY(-50%);z-index:1000;display:flex;flex-direction:column;gap:8px;align-items:flex-end}.container{width:80%;margin:auto;overflow:hidden}#map-container{position:relative;width:100%;margin:0;padding:0;border:none;background-color:#121212;transition:flex .2s ease-out;flex:1;min-height:0;will-change:flex}#map-container.expanded{flex:7}#calendar.map-expanded{height:30vh!important;flex:none}.expand-button{position:absolute;bottom:10px;right:10px;z-index:1000;background:rgba(255,255,255,.9);border:none;border-radius:4px;padding:6px 12px;cursor:pointer;font-size:14px;box-shadow:0 2px 4px rgba(0,0,0,.2);transition:.2s}.expand-button:hover{background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.3)}.dark-mode .expand-button{background:rgba(40,40,40,.9);color:#fff}.dark-mode .expand-button:hover{background:#323232}#toggle-map{position:absolute;left:50%;transform:translateX(-50%);bottom:16px;z-index:1000;background:rgba(40,40,40,.6);border:none;border-radius:6px;padding:8px 16px;cursor:pointer;font-size:.9rem;font-weight:500;box-shadow:0 2px 8px rgba(0,0,0,.12);transition:.2s;color:rgba(255,255,255,.9)}#toggle-map:hover{background:rgba(40,40,40,.8)}.dark-mode #toggle-map{background:rgba(40,40,40,.6);color:rgba(255,255,255,.85)}.dark-mode #toggle-map:hover{background:rgba(40,40,40,.8)}#my-location-btn{position:absolute;bottom:12px;left:12px;background:#fff;border:1px solid #ccc;border-radius:2px;width:32px;height:32px;cursor:pointer;transition:.2s;box-shadow:0 2px 6px rgba(0,0,0,.3);z-index:1000;display:flex;align-items:center;justify-content:center;padding:0}#my-location-btn img{width:20px;height:20px;opacity:.7;transition:opacity .2s;display:block}#my-location-btn:hover{background:#f8f8f8;box-shadow:0 4px 8px rgba(0,0,0,.3)}#my-location-btn:hover img{opacity:1}#my-location-btn:active{background:#e8e8e8;transform:translateY(1px)}.dark-mode #my-location-btn{background:#303030;border:1px solid #444}.dark-mode #my-location-btn:hover{background:#404040}.dark-mode #my-location-btn img{filter:invert(1) brightness(.8)}.dark-mode #my-location-btn:hover img{filter:invert(1) brightness(1)}#map{height:100%;width:100%;margin:0;border:none;box-sizing:border-box;position:relative;background-color:#f8f9fa}.dark-mode #map{background-color:#121212}#calendar{flex:2;width:100%;min-width:0;margin:0;padding:8px 16px;padding-bottom:4px!important;box-sizing:border-box;transition:flex .2s ease-out;background-color:#fff;border:none;min-height:0;will-change:flex}#map-container.expanded+#calendar{flex:3;padding-bottom:4px!important}#map-container.expanded+#calendar .fc{height:calc(100% - 4px)!important;overflow:hidden!important}#map-container.expanded+#calendar .fc-view-harness{height:calc(100% - 40px)!important;margin:0!important;background:0 0!important;min-height:0!important;overflow:auto!important;padding-bottom:4px!important}#map-container.expanded+#calendar .fc-view-harness-active{height:100%!important;overflow:auto!important;padding-bottom:4px!important}#map-container.expanded+#calendar .fc-scroller,#map-container.expanded+#calendar .fc-scrollgrid{overflow:auto!important;height:100%!important}#map-container.expanded+#calendar .fc-daygrid-body,#map-container.expanded+#calendar .fc-scrollgrid-section,#map-container.expanded+#calendar .fc-scrollgrid-section>td{overflow:visible!important}#map-container.expanded+#calendar .fc-scrollgrid-section:last-child,#map-container.expanded+#calendar .fc-scrollgrid-section:last-child td{border-bottom:1px solid rgba(255,255,255,.06)!important}#map-container.expanded+#calendar .fc-header-toolbar{margin:4px 8px!important;padding:4px!important;height:40px!important;min-height:40px!important}#map-container.expanded+#calendar .fc-dayGridMonth-view .fc-day{min-height:4em!important}#map-container.expanded+#calendar .fc-dayGridMonth-view .fc-daygrid-day-frame{min-height:4em!important;height:auto!important}#calendar.hidden{height:30vh!important;flex:none}.fc-view-harness{overflow:auto!important;padding-bottom:4px!important}.fc-header-toolbar{margin:4px 8px!important;padding:4px!important;height:40px!important;min-height:40px!important;display:flex!important;align-items:center!important;justify-content:space-between!important}.fc-button-group{display:flex!important;gap:4px!important}.fc-button{height:32px!important;font-size:.9em!important;display:flex!important;align-items:center!important;justify-content:center!important;transition:.2s!important;border-radius:4px!important}.fc-next-button,.fc-prev-button{padding:0 8px!important;min-width:28px!important}.fc-today-button{font-weight:500!important;min-width:60px!important}.fc-next-button .fc-icon,.fc-prev-button .fc-icon{font-family:FullCalendar!important;font-size:1.2em!important;width:auto!important;height:auto!important;color:rgba(255,255,255,.7)!important;line-height:1!important}.fc-prev-button .fc-icon:before{content:'\e901'!important;font-family:FullCalendar!important}.fc-next-button .fc-icon:before{content:'\e902'!important;font-family:FullCalendar!important}.fc-prev-button .fc-icon:empty:before{content:'←'!important}.fc-next-button .fc-icon:empty:before{content:'→'!important}.fc-button:hover .fc-icon{color:rgba(255,255,255,.9)!important}.fc-button-active{background:rgba(255,255,255,.15)!important;color:rgba(255,255,255,.9)!important}body:not(.dark-mode) .fc-button{background:rgba(0,0,0,.03)!important;border:1px solid rgba(0,0,0,.1)!important;color:rgba(0,0,0,.7)!important}body:not(.dark-mode) .fc-button:hover{background:rgba(0,0,0,.08)!important;color:rgba(0,0,0,.9)!important}body:not(.dark-mode) .fc-button-active{background:rgba(0,0,0,.12)!important;color:rgba(0,0,0,.9)!important}body:not(.dark-mode) .fc-next-button .fc-icon,body:not(.dark-mode) .fc-prev-button .fc-icon{color:rgba(0,0,0,.7)!important}body:not(.dark-mode) .fc-button:hover .fc-icon{color:rgba(0,0,0,.9)!important}.fc-toolbar-title{font-weight:500!important;text-align:center!important;flex:1!important;margin:0 8px!important}.fc-toolbar-chunk{display:flex!important;align-items:center!important;min-width:120px!important}.fc-toolbar-chunk:first-child{justify-content:flex-start!important}.fc-toolbar-chunk:last-child{justify-content:flex-end!important}.fc-daygrid-body,.fc-scrollgrid,.fc-scrollgrid-sync-table{height:100%!important}.fc{width:100%;height:100%!important;flex:1;min-height:0;display:flex;flex-direction:column;background:#fff!important}#calendar .fc{height:calc(100% - 4px)!important;overflow:hidden!important}#calendar .fc-view-harness{height:calc(100% - 40px)!important;margin:0!important;background:0 0!important;min-height:0!important;overflow:auto!important;padding-bottom:4px!important}.fc-theme-standard .fc-scrollgrid,.fc-theme-standard td,.fc-theme-standard th{border-color:rgba(0,0,0,.1)!important}.dark-mode .fc{background:#121212!important}.dark-mode .fc-theme-standard .fc-scrollgrid,.dark-mode .fc-theme-standard td,.dark-mode .fc-theme-standard th{border-color:rgba(255,255,255,.06)!important}.fc-view-harness{flex:1;width:100%!important}.fc .fc-scrollgrid{width:100%!important}.fc .fc-scrollgrid-section{width:100%!important;overflow:visible!important}.fc .fc-daygrid-body{width:100%!important}.fc .fc-daygrid-body table{width:100%!important;height:auto!important;table-layout:fixed!important}.fc-scrollgrid-section:last-child,.fc-scrollgrid-section:last-child td{border-bottom:1px solid rgba(255,255,255,.06)!important}.fc-daygrid-day{border:1px solid rgba(255,255,255,.06)!important;height:auto!important;min-height:120px!important;max-height:none!important;overflow:visible!important}.fc-daygrid-day-frame{height:100%!important;display:flex!important;flex-direction:column!important;min-height:inherit!important;position:relative!important;z-index:0!important;border:none!important}.fc-daygrid-day-top{flex-shrink:0!important}.fc-daygrid-day-events{flex:1!important;padding:4px!important;min-height:60px!important;max-height:none!important;overflow:visible!important;position:relative!important;z-index:1!important}.fc-event{line-height:1.3!important;font-size:.9em!important;cursor:pointer!important;transition:opacity .2s!important;opacity:.9!important}.fc-event:hover{opacity:1!important;text-decoration:none!important}.fc-toolbar{padding:8px!important}.fc-toolbar-title{font-size:1.2em!important}.fc-button{padding:.3em .6em!important;background:rgba(255,255,255,.03)!important;border:1px solid rgba(255,255,255,.06)!important}.fc-button:hover{color:rgba(255,255,255,.9)!important;background:rgba(255,255,255,.05)!important}.fc-day-today{background:rgba(255,255,255,.02)!important}.fc-event{border:1px solid rgba(255,255,255,.06)!important;padding:2px 4px!important}.fc-list-day-cushion,.fc-list-event:hover td{background:rgba(255,255,255,.02)!important}.fc-daygrid-event-harness{margin-top:1px!important}.fc-theme-standard .fc-scrollgrid{border:none!important}.fc-theme-standard .fc-scrollgrid-section-body>*,.fc-theme-standard .fc-scrollgrid-section-footer>*,.fc-theme-standard .fc-scrollgrid-section-header>*,.fc-theme-standard .fc-scrollgrid-section>*{border:1px solid rgba(0,0,0,.1)!important;background:#fff!important}.dark-mode .fc-theme-standard .fc-scrollgrid-section-body>*,.dark-mode .fc-theme-standard .fc-scrollgrid-section-footer>*,.dark-mode .fc-theme-standard .fc-scrollgrid-section-header>*,.dark-mode .fc-theme-standard .fc-scrollgrid-section>*{border:1px solid rgba(255,255,255,.06)!important;background:#121212!important}.leaflet-control-attribution{opacity:.5;font-size:.8em;padding:2px;background:rgba(255,255,255,.7);border-radius:4px;transition:opacity .3s}.leaflet-control-attribution:hover{opacity:.8}.chess-event-icon{background:0 0!important;border:none!important}.chess-event-marker{position:relative;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.chess-marker-inner{position:relative;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 3px 8px rgba(0,0,0,.25);transition:.2s;z-index:2}.chess-marker-shadow{position:absolute;bottom:-2px;left:50%;transform:translateX(-50%);width:20px;height:4px;background:rgba(0,0,0,.2);border-radius:50%;filter:blur(2px)}.chess-marker-icon{font-size:16px;line-height:1;text-shadow:0 1px 2px rgba(0,0,0,.3)}.chess-event-marker[data-event-type=club] .chess-marker-inner{background:linear-gradient(135deg,#3498db,#2980b9);border:2px solid #fff}.chess-event-marker[data-event-type=tournament] .chess-marker-inner{background:linear-gradient(135deg,#f39c12,#e67e22);border:2px solid #fff}.chess-event-marker[data-event-type=online] .chess-marker-inner,.chess-event-marker[data-event-type=workshop] .chess-marker-inner{background:linear-gradient(135deg,#9b59b6,#8e44ad);border:2px solid #fff}.chess-event-marker[data-event-type=casual] .chess-marker-inner{background:linear-gradient(135deg,#27ae60,#229954);border:2px solid #fff}.chess-event-marker:not([data-event-type]) .chess-marker-inner,.chess-event-marker[data-event-type=default] .chess-marker-inner{background:linear-gradient(135deg,#34495e,#2c3e50);border:2px solid #fff}.chess-event-marker:hover .chess-marker-inner{transform:scale(1.1);box-shadow:0 4px 12px rgba(0,0,0,.35)}.chess-event-marker:hover .chess-marker-shadow{width:24px;opacity:.3}.dark-mode .chess-marker-inner{border-color:rgba(255,255,255,.8)}.chess-cluster-large,.chess-cluster-medium,.chess-cluster-small{background:0 0!important;border:none!important}.chess-cluster-small .chess-cluster-inner{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#3498db 0,#2980b9 100%);border:2px solid #fff;box-shadow:0 4px 12px rgba(52,152,219,.4);display:flex;align-items:center;justify-content:center;position:relative;transition:.3s}.chess-cluster-medium .chess-cluster-inner{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#f39c12 0,#e67e22 100%);border:2px solid #fff;box-shadow:0 4px 12px rgba(243,156,18,.4);display:flex;align-items:center;justify-content:center;position:relative;transition:.3s}.chess-cluster-large .chess-cluster-inner{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#e74c3c 0,#c0392b 100%);border:2px solid #fff;box-shadow:0 4px 12px rgba(231,76,60,.4);display:flex;align-items:center;justify-content:center;position:relative;transition:.3s}.chess-cluster-inner span{color:#fff;font-weight:700;font-size:12px;text-shadow:0 1px 2px rgba(0,0,0,.3)}.chess-cluster-large:hover .chess-cluster-inner,.chess-cluster-medium:hover .chess-cluster-inner,.chess-cluster-small:hover .chess-cluster-inner{transform:scale(1.1);box-shadow:0 6px 16px rgba(0,0,0,.3)}.marker-cluster-large,.marker-cluster-medium,.marker-cluster-small{background-color:transparent!important}.marker-cluster-large div,.marker-cluster-medium div,.marker-cluster-small div{background-color:transparent!important;border:none!important}.dark-mode .chess-cluster-inner{border-color:rgba(255,255,255,.8)}.leaflet-popup-content-wrapper{background:rgba(255,255,255,.95)!important;color:#333!important;border-radius:8px!important;box-shadow:0 4px 12px rgba(0,0,0,.15)!important;width:auto!important;min-width:320px!important;border:1px solid rgba(0,0,0,.1)!important}.leaflet-popup-tip{background:rgba(255,255,255,.95)!important}.dark-mode .leaflet-popup-content-wrapper{background:rgba(40,40,40,.95)!important;color:#fff!important;border-color:rgba(255,255,255,.15)!important}.dark-mode .leaflet-popup-tip{background:rgba(40,40,40,.95)!important}.chess-popup-content{margin:0;line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif}.chess-popup-header{display:flex;align-items:center;gap:8px;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.1)}.chess-popup-icon{font-size:20px;line-height:1}.chess-popup-header h3{margin:0;font-size:1.2em;color:#333;font-weight:600;flex:1}.chess-popup-details{display:flex;flex-direction:column;gap:8px}.chess-popup-date,.chess-popup-type,.chess-popup-website{display:flex;align-items:center;gap:8px;font-size:.95em}.detail-icon{font-size:14px;opacity:.7;width:16px;text-align:center}.chess-popup-link{display:flex;align-items:center;gap:8px;color:#3498db;text-decoration:none;transition:.2s;padding:4px 8px;border-radius:4px;margin:-4px -8px}.chess-popup-link:hover{background:rgba(52,152,219,.1);color:#2980b9;text-decoration:none}.external-icon{font-size:12px;opacity:.7;margin-left:auto}.dark-mode .chess-popup-header{border-bottom-color:rgba(255,255,255,.15)}.dark-mode .chess-popup-header h3{color:#e0e0e0}.dark-mode .chess-popup-link{color:#5dade2}.dark-mode .chess-popup-link:hover{background:rgba(93,173,226,.15);color:#85c1e9}.popup-content{margin:0;line-height:1.5}.popup-content h3{margin:0 0 8px;font-size:1.1em;color:#333}.popup-content p{margin:4px 0;color:#666}.popup-content a{color:#007bff;text-decoration:none;transition:color .2s}.popup-content a:hover{color:#0056b3;text-decoration:underline}.social-links{margin-top:8px;display:flex;gap:12px}.social-links a{font-size:1.2em;opacity:.8;transition:opacity .2s}.social-links a:hover{opacity:1;text-decoration:none}.dark-mode .popup-content h3{color:#e0e0e0}.dark-mode .popup-content p{color:#b0b0b0}.dark-mode .popup-content a{color:#4d94ff}.dark-mode .popup-content a:hover{color:#80b3ff}.filter-btn{padding:6px 12px;border:1px solid rgba(255,255,255,.2);border-radius:16px;background:rgba(40,40,40,.7);color:rgba(255,255,255,.85);cursor:pointer;font-size:12px;font-weight:500;transition:.2s;white-space:nowrap;opacity:.8;backdrop-filter:blur(8px);box-shadow:0 2px 8px rgba(0,0,0,.15)}.filter-btn:hover{background:rgba(40,40,40,.85);opacity:.95;color:rgba(255,255,255,.95);transform:translateX(-2px)}.filter-btn.active{background:rgba(60,60,60,.8);border-color:rgba(255,255,255,.4);opacity:1;color:rgba(255,255,255,.95)}.filter-btn.active:hover{background:rgba(70,70,70,.85);transform:translateX(-2px)}.filter-btn[data-type=casual]{border-color:rgba(39,174,96,.3);background:rgba(39,174,96,.15)}.filter-btn[data-type=casual]:hover{background:rgba(39,174,96,.25);border-color:rgba(39,174,96,.5)}.filter-btn[data-type=casual].active{background:rgba(39,174,96,.8);border-color:#27ae60;color:rgba(255,255,255,.95)}.filter-btn[data-type=casual].active:hover{background:rgba(35,155,86,.9)}.filter-btn[data-type=club]{border-color:rgba(52,152,219,.3);background:rgba(52,152,219,.15)}.filter-btn[data-type=club]:hover{background:rgba(52,152,219,.25);border-color:rgba(52,152,219,.5)}.filter-btn[data-type=club].active{background:rgba(52,152,219,.8);border-color:#3498db;color:rgba(255,255,255,.95)}.filter-btn[data-type=club].active:hover{background:rgba(41,128,185,.9)}.filter-btn[data-type=workshop]{border-color:rgba(155,89,182,.3);background:rgba(155,89,182,.15)}.filter-btn[data-type=workshop]:hover{background:rgba(155,89,182,.25);border-color:rgba(155,89,182,.5)}.filter-btn[data-type=workshop].active{background:rgba(155,89,182,.8);border-color:#9b59b6;color:rgba(255,255,255,.95)}.filter-btn[data-type=workshop].active:hover{background:rgba(142,68,173,.9)}.filter-btn[data-type=tournament]{border-color:rgba(243,156,18,.3);background:rgba(243,156,18,.15)}.filter-btn[data-type=tournament]:hover{background:rgba(243,156,18,.25);border-color:rgba(243,156,18,.5)}.filter-btn[data-type=tournament].active{background:rgba(243,156,18,.8);border-color:#f39c12;color:rgba(255,255,255,.95)}.filter-btn[data-type=tournament].active:hover{background:rgba(230,126,34,.9)}main{display:flex;flex-direction:column;flex:1;height:calc(100vh - 36px);overflow:hidden;position:relative;padding:0;margin:0;box-sizing:border-box}.event-type{display:none}.tippy-box{max-width:300px!important}.tippy-box[data-theme~=dark]{background-color:rgba(40,40,40,.95);color:rgba(255,255,255,.9)}.tippy-box[data-theme~=light]{background-color:rgba(255,255,255,.95);color:#333}.fc .fc-daygrid-day-frame{padding:8px!important}.fc-daygrid-event{white-space:normal!important;align-items:flex-start!important;margin:3px 0!important}.fc-daygrid-day-bottom{padding:2px 0!important}.dark-mode #calendar,.dark-mode .fc-daygrid-day,.dark-mode .fc-daygrid-day-frame,.dark-mode .fc-scrollgrid,.dark-mode .fc-scrollgrid-section,.dark-mode .fc-scrollgrid-section>td,.dark-mode .fc-view-harness{background-color:#121212!important}.fc-view-harness{height:auto!important;margin:0!important;background:0 0!important;min-height:0!important}.fc .fc-scrollgrid-section-body>*,.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-color:rgba(255,255,255,.06)!important}.fc .fc-scrollgrid{border:none!important}.fc .fc-scrollgrid table{height:auto!important;border-collapse:collapse!important;table-layout:fixed!important;width:100%!important}.fc .fc-scrollgrid,.fc .fc-view-harness{height:100%!important;overflow:auto!important}.fc .fc-daygrid-body{height:auto!important;overflow:visible!important}.fc .fc-daygrid-body tbody{height:auto!important;display:table-row-group!important}.fc .fc-daygrid-body tr{height:auto!important}.fc .fc-daygrid-body td{height:auto!important;vertical-align:top!important}.fc .fc-scrollgrid-section-body>td,.fc .fc-scrollgrid-section-footer>td{border-bottom:1px solid rgba(255,255,255,.06)!important}.fc-daygrid-day-number{font-size:.9em!important}.fc-daygrid-day-top{justify-content:flex-start!important;padding:4px 6px!important}.fc-event{background:0 0!important}.fc-event-main{padding:2px 4px!important;margin:0!important;border-radius:2px!important;border:none!important;background:var(--event-color)!important;font-weight:500!important}.dark-mode .fc-event-main{color:rgba(255,255,255,.95)!important}.dark-mode .fc-event-main-frame{color:rgba(255,255,255,.95)!important;text-shadow:0 1px 2px rgba(0,0,0,.3)!important}.chess-calendar-event{display:flex;align-items:center;gap:6px;padding:4px 6px;border-radius:4px;font-size:.85em;line-height:1.2;height:100%;box-sizing:border-box;transition:.2s}.chess-event-icon{font-size:12px;line-height:1;flex-shrink:0;text-shadow:0 1px 2px rgba(0,0,0,.2)}.chess-event-content{flex:1;min-width:0;overflow:hidden}.chess-event-title{font-weight:600;font-size:.95em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:1px;text-shadow:0 1px 2px rgba(0,0,0,.1)}.chess-event-type{font-size:.75em;opacity:.9;font-weight:500;text-transform:uppercase;letter-spacing:.3px}.chess-event-club .chess-calendar-event,.fc-event.chess-event-club{background:linear-gradient(135deg,#3498db,#2980b9)!important;border-color:#2980b9!important}.chess-event-tournament .chess-calendar-event,.fc-event.chess-event-tournament{background:linear-gradient(135deg,#f39c12,#e67e22)!important;border-color:#e67e22!important}.chess-event-online .chess-calendar-event,.chess-event-workshop .chess-calendar-event,.fc-event.chess-event-online,.fc-event.chess-event-workshop{background:linear-gradient(135deg,#9b59b6,#8e44ad)!important;border-color:#8e44ad!important}.chess-event-casual .chess-calendar-event,.fc-event.chess-event-casual{background:linear-gradient(135deg,#27ae60,#229954)!important;border-color:#229954!important}.chess-event-default .chess-calendar-event,.fc-event.chess-event-default{background:linear-gradient(135deg,#34495e,#2c3e50)!important;border-color:#2c3e50!important}.fc-event:hover .chess-calendar-event{transform:scale(1.02);box-shadow:0 2px 8px rgba(0,0,0,.25)}.fc-event{border:none!important;margin:2px 1px!important;box-shadow:0 1px 3px rgba(0,0,0,.12)!important;border-radius:4px!important;overflow:hidden!important;position:relative!important;z-index:1!important}.fc-event:hover{box-shadow:0 2px 8px rgba(0,0,0,.25)!important;z-index:10!important}.fc-daygrid-event{z-index:2!important}.fc-daygrid-event.fc-event-end,.fc-daygrid-event.fc-event-mirror,.fc-daygrid-event.fc-event-start{z-index:3!important}.fc-daygrid-event-harness{position:relative!important;z-index:2!important}.fc-daygrid-event-harness:hover{z-index:10!important}.fc-daygrid-block-event{z-index:3!important;position:relative!important}.fc-daygrid-block-event:hover{z-index:11!important}.fc-daygrid-more-link{z-index:4!important;position:relative!important}.fc-daygrid-dot-event{z-index:1!important}.fc-daygrid-day-events .fc-daygrid-event-harness{z-index:2!important}.fc-daygrid-day-events .fc-daygrid-event-harness:first-child{z-index:4!important}.fc-daygrid-day-events .fc-daygrid-event-harness:nth-child(2){z-index:3!important}.chess-calendar-event,.fc-event-main,.fc-event-main-frame{color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.3)!important}.fc-list-event .chess-calendar-event{background:0 0!important;padding:0!important;border-radius:0!important;gap:8px!important}.fc-list-event .chess-event-icon{font-size:16px!important}.fc-list-event .chess-event-title{font-size:1em!important;color:inherit!important;text-shadow:none!important}.fc-list-event .chess-event-type{color:inherit!important;opacity:.7!important;text-shadow:none!important}@media (max-width:768px){.chess-calendar-event{padding:3px 4px;gap:4px;font-size:.8em}.chess-event-icon{font-size:10px}.chess-event-title{font-size:.9em}.chess-event-type{font-size:.7em}.fc-event{margin:1px 0!important}}#calendar ::-webkit-scrollbar,.fc-scroller ::-webkit-scrollbar,.fc-view-harness ::-webkit-scrollbar{width:8px;height:8px}#calendar ::-webkit-scrollbar-track,.fc-scroller ::-webkit-scrollbar-track,.fc-view-harness ::-webkit-scrollbar-track{background:rgba(0,0,0,.05);border-radius:4px}#calendar ::-webkit-scrollbar-thumb,.fc-scroller ::-webkit-scrollbar-thumb,.fc-view-harness ::-webkit-scrollbar-thumb{background:rgba(0,0,0,.2);border-radius:4px;transition:background .2s}#calendar ::-webkit-scrollbar-thumb:hover,.fc-scroller ::-webkit-scrollbar-thumb:hover,.fc-view-harness ::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,.3)}#calendar ::-webkit-scrollbar-corner,.fc-scroller ::-webkit-scrollbar-corner,.fc-view-harness ::-webkit-scrollbar-corner{background:0 0}.dark-mode #calendar ::-webkit-scrollbar-track,.dark-mode .fc-scroller ::-webkit-scrollbar-track,.dark-mode .fc-view-harness ::-webkit-scrollbar-track{background:rgba(255,255,255,.05)}.dark-mode #calendar ::-webkit-scrollbar-thumb,.dark-mode .fc-scroller ::-webkit-scrollbar-thumb,.dark-mode .fc-view-harness ::-webkit-scrollbar-thumb{background:rgba(255,255,255,.2)}.dark-mode #calendar ::-webkit-scrollbar-thumb:hover,.dark-mode .fc-scroller ::-webkit-scrollbar-thumb:hover,.dark-mode .fc-view-harness ::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.4)}body.dark-mode{background-color:#121212;color:rgba(255,255,255,.87)}.fc-button,.fc-daygrid-day-number,.fc-toolbar-title{color:#333!important}.dark-mode .fc-button,.dark-mode .fc-daygrid-day-number,.dark-mode .fc-toolbar-title{color:rgba(255,255,255,.7)!important}.location-banner{background:rgba(255,255,255,.92);border-radius:6px;padding:8px 12px;box-shadow:0 2px 8px rgba(0,0,0,.08);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.3);transition:.15s;opacity:0;transform:translateX(-100%);max-width:400px;white-space:nowrap}.location-banner.show{opacity:1;transform:translateX(0)}.location-banner-content{display:flex;align-items:center;gap:6px;font-size:13px;color:#333}.location-icon{font-size:14px}.location-text{font-weight:500;flex:1;white-space:nowrap}.location-actions{display:flex;gap:4px;margin-left:6px}.location-btn{border:none;border-radius:3px;padding:3px 6px;font-size:11px;font-weight:500;cursor:pointer;transition:.2s;min-width:50px;max-width:80px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.location-allow{background:rgba(52,152,219,.15);color:#3498db}.location-allow:hover{background:rgba(52,152,219,.25);color:#2980b9}.location-dismiss{background:rgba(231,76,60,.25);color:#e74c3c}.location-dismiss:hover{background:rgba(231,76,60,.35);color:#c0392b}.location-manual{background:rgba(149,165,166,.15);color:#95a5a6}.location-manual:hover{background:rgba(149,165,166,.25);color:#7f8c8d}.location-btn.disabled{background:rgba(149,165,166,.1)!important;color:#95a5a6!important;cursor:not-allowed!important;opacity:.6}.location-btn.disabled:hover{background:rgba(149,165,166,.1)!important;color:#95a5a6!important;cursor:not-allowed!important}.dark-mode .location-btn.disabled{background:rgba(149,165,166,.15)!important;color:#7f8c8d!important}.location-banner-progress{position:absolute;bottom:0;left:0;right:0;height:1px;background:rgba(52,152,219,.3);transform-origin:left;transition:transform .1s linear}@media (max-width:768px){.location-banner{max-width:none;padding:12px;white-space:normal}.location-banner-content{flex-direction:column;align-items:center;gap:10px;font-size:14px;text-align:center}.location-text{white-space:normal;text-align:center;width:100%;order:2}.location-icon{font-size:16px;order:1}.location-actions{display:flex;gap:8px;margin-left:0;width:100%;justify-content:center;order:3}.location-btn{padding:10px 14px;font-size:13px;min-width:65px;border-radius:6px;flex:1;max-width:85px;min-height:44px;display:flex;align-items:center;justify-content:center}main{flex-direction:column;height:100vh;max-height:100vh;overflow:hidden;box-sizing:border-box;position:relative}#map-container{height:40vh;flex:none;order:1}#calendar{height:60vh;height:calc(100vh - 40vh - 60px);flex:none;order:2;display:flex!important;display:-webkit-flex!important;flex-direction:column!important;-webkit-flex-direction:column!important;box-sizing:border-box!important;padding:4px!important}#calendar .fc{flex:1;-webkit-flex:1;height:100%!important;min-height:200px!important;box-sizing:border-box!important}#calendar .fc-view-harness{flex:1;-webkit-flex:1;height:calc(100% - 44px)!important;height:-webkit-calc(100% - 44px)!important;min-height:150px!important;overflow:auto!important;-webkit-overflow-scrolling:touch!important}.map-filters{bottom:12px;right:12px;top:auto;transform:none;flex-direction:column;gap:6px;align-items:flex-end}.add-event-button{position:absolute;background:linear-gradient(135deg,#e74c3c 0,#c0392b 100%);color:#fff;border:none;font-weight:600;cursor:pointer;box-shadow:0 4px 12px rgba(231,76,60,.3);transition:.3s;display:flex;align-items:center;gap:8px;z-index:1000;backdrop-filter:blur(8px)}.add-event-button:hover{background:linear-gradient(135deg,#c0392b 0,#a93226 100%);box-shadow:0 6px 16px rgba(231,76,60,.4);transform:translateY(-2px)}.add-event-button:active{transform:translateY(0);box-shadow:0 2px 8px rgba(231,76,60,.3)}.add-icon{font-size:1.2em;line-height:1;font-weight:700}.add-text{white-space:nowrap;display:none}.dark-mode .add-event-button{border:1px solid rgba(255,255,255,.1)}.dark-mode .add-event-button:hover{border-color:rgba(255,255,255,.2)}.filter-btn{font-size:10px;padding:6px 8px;min-width:44px;border-radius:16px;white-space:nowrap;text-align:center}#toggle-map{bottom:12px;font-size:.8rem;padding:6px 12px}.add-event-button{bottom:70px;left:8px;padding:10px 14px;font-size:.85rem;border-radius:20px;min-width:44px;justify-content:center}.add-event-modal-content{width:98%;max-height:95vh;margin:8px}.add-event-modal-header{padding:16px 20px}.add-event-modal-header h3{font-size:1.2em}.add-event-modal-body{padding:16px 20px;max-height:calc(95vh - 80px)}#google-form-iframe{min-height:400px}.fc-toolbar{margin-bottom:8px!important;padding:4px!important}.fc-toolbar-title{font-size:1.1em!important;margin:0!important}.fc-button{padding:6px 10px!important;font-size:.85em!important;min-height:40px!important;margin:0 2px!important}.fc-button-group{margin:0!important}.fc-daygrid-day-number{font-size:.9em!important;padding:4px!important}.fc-daygrid-day-frame{min-height:50px!important;padding:2px!important}.fc-daygrid-day-top{padding:2px 4px!important}.fc-event-main{font-size:.75em!important;padding:2px 4px!important;margin:1px 0!important}.fc-list{border:none!important}.fc-list-event{padding:8px 4px!important;border-bottom:1px solid rgba(255,255,255,.1)!important}.fc-list-event-time{font-size:.8em!important;padding-right:8px!important}.fc-list-event-title{font-size:.9em!important;padding-left:8px!important}.fc-list-day-cushion{padding:6px 4px!important;font-size:.85em!important;background:rgba(255,255,255,.05)!important}.fc-scrollgrid-section-header .fc-col-header-cell{padding:4px 2px!important}.fc-col-header-cell-cushion{padding:4px!important;font-size:.8em!important}#map-container.expanded{height:55vh;max-height:calc(100vh - 250px);flex:none}#map-container.expanded+#calendar{height:45vh!important;height:calc(100vh - 55vh - 40px)!important;min-height:250px!important;max-height:45vh!important;flex:none;display:flex!important;display:-webkit-flex!important;flex-direction:column!important;-webkit-flex-direction:column!important;overflow:visible!important;box-sizing:border-box!important;position:relative!important}#map-container.expanded+#calendar .fc{flex:1;-webkit-flex:1;height:100%!important;min-height:200px!important;overflow:hidden!important;display:flex!important;display:-webkit-flex!important;flex-direction:column!important;-webkit-flex-direction:column!important;box-sizing:border-box!important}#map-container.expanded+#calendar .fc-view-harness{flex:1;-webkit-flex:1;height:calc(100% - 44px)!important;height:-webkit-calc(100% - 44px)!important;min-height:180px!important;overflow:auto!important;-webkit-overflow-scrolling:touch!important;box-sizing:border-box!important}.theme-toggle{top:12px;right:12px;width:44px;height:44px}.leaflet-control-attribution{font-size:.6em!important;padding:1px 3px!important;opacity:.3!important;background:rgba(0,0,0,.4)!important;color:rgba(255,255,255,.7)!important;border-radius:2px!important;max-width:120px!important;overflow:hidden!important;white-space:nowrap!important;text-overflow:ellipsis!important;pointer-events:none!important}.leaflet-control-attribution:hover{opacity:.8!important;max-width:none!important;white-space:normal!important;pointer-events:auto!important}@-moz-document url-prefix(){#calendar{height:60vh!important;min-height:300px!important}#map-container.expanded+#calendar{height:40vh!important;min-height:200px!important;max-height:40vh!important}#calendar .fc,#map-container.expanded+#calendar .fc{height:auto!important;min-height:200px!important}#calendar .fc-view-harness,#map-container.expanded+#calendar .fc-view-harness{height:auto!important;min-height:180px!important;flex-grow:1}}@supports (-moz-appearance:none){@media (max-width:768px){main{height:100vh!important;max-height:100vh!important;overflow:hidden!important}#map-container.expanded{height:50vh!important;max-height:50vh!important}#calendar,#map-container.expanded+#calendar{height:50vh!important;max-height:50vh!important;position:relative!important;display:flex!important;flex-direction:column!important;bottom:0!important;margin-top:0!important;padding-top:8px!important}#calendar .fc,#map-container.expanded+#calendar .fc{position:relative!important;height:100%!important;min-height:200px!important;display:flex!important;flex-direction:column!important}#calendar .fc-view-harness,#map-container.expanded+#calendar .fc-view-harness{position:relative!important;height:calc(100% - 44px)!important;min-height:180px!important;overflow-y:auto!important;flex:1!important}}}}.location-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1001;display:none;align-items:center;justify-content:center;backdrop-filter:blur(4px)}.location-modal.show{display:flex}.location-modal-content{background:rgba(255,255,255,.95);border-radius:8px;padding:20px;max-width:400px;width:90%;box-shadow:0 4px 20px rgba(0,0,0,.15);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.3)}.location-modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.location-modal-header h3{margin:0;color:#333;font-size:18px}.location-modal-close{background:0 0;border:none;font-size:20px;cursor:pointer;color:#666;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%}.location-modal-close:hover{background:rgba(0,0,0,.1)}.location-modal-body p{margin:0 0 16px;color:#666;font-size:14px}#manual-location-input{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;margin-bottom:16px;box-sizing:border-box}#manual-location-input:focus{outline:0;border-color:#3498db;box-shadow:0 0 0 2px rgba(52,152,219,.2)}.location-modal-actions{display:flex;gap:8px;justify-content:flex-end}.location-submit{background:rgba(52,152,219,.15);color:#3498db}.location-submit:hover{background:rgba(52,152,219,.25);color:#2980b9}.location-cancel{background:rgba(149,165,166,.15);color:#95a5a6}.location-cancel:hover{background:rgba(149,165,166,.25);color:#7f8c8d}.add-event-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);z-index:1002;display:none;align-items:center;justify-content:center;backdrop-filter:blur(4px)}.add-event-modal.show{display:flex}.add-event-modal-content{background:rgba(255,255,255,.97);border-radius:12px;padding:0;max-width:800px;width:95%;max-height:90vh;box-shadow:0 8px 32px rgba(0,0,0,.2);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.3);display:flex;flex-direction:column;overflow:hidden}.add-event-modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid rgba(0,0,0,.1);background:linear-gradient(135deg,#e74c3c 0,#c0392b 100%);color:#fff}.add-event-modal-header h3{margin:0;font-size:1.3em;font-weight:600}.add-event-modal-close{background:0 0;border:none;font-size:24px;cursor:pointer;color:rgba(255,255,255,.8);padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:.2s}.add-event-modal-close:hover{background:rgba(255,255,255,.2);color:#fff}.add-event-modal-body{padding:24px;flex:1;overflow:auto;max-height:calc(90vh - 100px)}.form-intro{margin-bottom:20px}.form-intro p{margin:0;color:#666;font-size:15px;line-height:1.5}.form-container{position:relative;min-height:300px}.form-loading{text-align:center;color:#999;font-style:italic;margin:60px 0}#google-form-iframe{width:100%;min-height:500px;border:none;border-radius:8px}.dark-mode .add-event-modal-content{background:rgba(40,40,40,.97);border:1px solid rgba(255,255,255,.1)}.dark-mode .add-event-modal-header{border-bottom:1px solid rgba(255,255,255,.15)}.dark-mode .form-intro p{color:#ccc}.dark-mode .form-loading{color:#999}.dark-mode .location-modal-content{background:rgba(40,40,40,.95);border:1px solid rgba(255,255,255,.1)}.dark-mode .location-modal-header h3{color:#e0e0e0}.dark-mode .location-modal-body p{color:#ccc}.dark-mode #manual-location-input{background:rgba(60,60,60,.8);border-color:rgba(255,255,255,.2);color:#e0e0e0}.dark-mode #manual-location-input:focus{border-color:#3498db}.dark-mode .location-modal-close{color:#ccc}.dark-mode .location-modal-close:hover{background:rgba(255,255,255,.1)}.dark-mode .location-banner{background:rgba(40,40,40,.95);border:1px solid rgba(255,255,255,.1)}.dark-mode .location-banner-content{color:#e0e0e0}.dark-mode .location-banner-progress{background:rgba(52,152,219,.4)}.dark-mode .location-dismiss{background:rgba(231,76,60,.2);color:#e74c3c}.dark-mode .location-dismiss:hover{background:rgba(231,76,60,.3);color:#e74c3c}.user-location-icon{background:0 0!important;border:none!important}.user-location-marker{position:relative;width:24px;height:24px}.user-location-dot{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:12px;height:12px;background:#3498db;border:3px solid #fff;border-radius:50%;box-shadow:0 2px 6px rgba(52,152,219,.4);z-index:2}.user-location-pulse{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:rgba(52,152,219,.2);border-radius:50%;animation:2s ease-out infinite userLocationPulse}.user-location-estimate-indicator{position:absolute;top:-2px;right:-2px;width:8px;height:8px;background:#f39c12;color:#fff;border-radius:50%;font-size:6px;font-weight:700;display:flex;align-items:center;justify-content:center;border:1px solid #fff;box-shadow:0 1px 3px rgba(0,0,0,.2)}.user-location-marker.precise .user-location-dot{background:#27ae60;box-shadow:0 2px 6px rgba(39,174,96,.4)}.user-location-marker.precise .user-location-pulse{background:rgba(39,174,96,.2)}@keyframes userLocationPulse{0%{transform:translate(-50%,-50%) scale(1);opacity:.6}100%{transform:translate(-50%,-50%) scale(2);opacity:0}}.user-location-popup{margin:0;line-height:1.5;min-width:280px;word-wrap:break-word}.user-location-popup strong{color:#333;font-size:1.1em;display:block;margin:0 0 8px;word-wrap:break-word}.user-location-popup small{display:block;margin:4px 0;color:#666;font-size:.9em;word-wrap:break-word}.user-location-marker.precise+.leaflet-popup .user-location-popup strong{color:#27ae60}.dark-mode .user-location-popup strong{color:#e0e0e0}.dark-mode .user-location-popup small{color:#b0b0b0}.location-popup-actions{margin-top:8px;display:flex;gap:6px;flex-wrap:nowrap}.location-popup-btn{padding:4px 8px;border:1px solid rgba(0,0,0,.2);border-radius:12px;font-size:11px;font-weight:500;cursor:pointer;transition:.2s;white-space:nowrap;flex:0 0 auto}.location-popup-btn.location-allow{background:rgba(52,152,219,.15);color:#3498db}.location-popup-btn.location-allow:hover{background:rgba(52,152,219,.25);color:#2980b9}.location-popup-btn.location-manual{background:rgba(149,165,166,.15);color:#95a5a6}.location-popup-btn.location-manual:hover{background:rgba(149,165,166,.25);color:#7f8c8d}.location-popup-btn.location-dismiss{background:rgba(231,76,60,.1);color:#d35545}.location-popup-btn.location-dismiss:hover{background:rgba(231,76,60,.18);color:#c0392b}.dark-mode .location-popup-btn{border-color:rgba(255,255,255,.2)}.dark-mode .location-popup-btn.location-dismiss{background:rgba(231,76,60,.15);color:#d35545}.dark-mode .location-popup-btn.location-dismiss:hover{background:rgba(231,76,60,.25);color:#e74c3c}.theme-toggle{position:fixed;top:16px;right:16px;width:64px;height:32px;margin:0;padding:0;border:none;border-radius:16px;background:rgba(255,255,255,.1);cursor:pointer;transition:.3s;overflow:hidden;z-index:1000;backdrop-filter:blur(8px)}.theme-toggle .moon-icon,.theme-toggle .sun-icon{position:absolute;font-size:14px;opacity:.3;top:50%;transform:translateY(-50%);z-index:1;transition:.3s;pointer-events:none;line-height:1}.theme-toggle .sun-icon{left:16px;transform:translate(-50%,-50%);opacity:.5}.theme-toggle .moon-icon{right:16px;transform:translate(50%,-50%)}.dark-mode .theme-toggle .sun-icon,.theme-toggle .moon-icon{opacity:.2}.dark-mode .theme-toggle .moon-icon{opacity:.5}.theme-toggle:hover{background:rgba(255,255,255,.15)}.theme-toggle:before{content:'';position:absolute;width:24px;height:24px;left:4px;top:4px;background:#ffd43b;border-radius:50%;transition:.3s cubic-bezier(.4, 0, .2, 1);box-shadow:0 0 8px rgba(255,212,59,.3)}.theme-toggle:after{content:'';position:absolute;width:24px;height:24px;left:4px;top:4px;background:radial-gradient(circle,transparent 52%,#ffd43b 54%,#ffd43b 56%,transparent 58%);transition:.3s cubic-bezier(.4, 0, .2, 1);opacity:1}.theme-toggle span:last-child{position:absolute;width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,.5);top:8px;left:40px;transition:.3s;opacity:0;box-shadow:8px 4px 0 -1px rgba(255,255,255,.3),4px 12px 0 -1px rgba(255,255,255,.4)}.dark-mode .theme-toggle{background:rgba(30,33,54,.9)}.dark-mode .theme-toggle:before{transform:translateX(32px);background:#e1e1e1;box-shadow:0 0 8px rgba(225,225,225,.3)}.dark-mode .theme-toggle:after{transform:translateX(32px);opacity:0}.dark-mode .theme-toggle span:last-child{opacity:1;transform:translateX(32px)}.theme-toggle:focus{outline:0;box-shadow:0 0 0 2px rgba(255,255,255,.2)}.dark-mode .theme-toggle:focus{box-shadow:0 0 0 2px rgba(255,255,255,.15)}#map-container.expanded+#calendar .fc-daygrid-day,#map-container.expanded+#calendar .fc-daygrid-day-events,#map-container.expanded+#calendar .fc-daygrid-day-frame{min-height:initial!important}#map-container.expanded+#calendar .fc-daygrid-body tr{height:100%!important}#map-container.expanded+#calendar .fc-scrollgrid-section:last-child td{border-bottom:none!important}.banner-container{position:fixed;top:16px;left:16px;z-index:999;display:flex;flex-direction:column;gap:8px;pointer-events:none}.banner-container>*{pointer-events:auto}.demo-banner{background:rgba(255,255,255,.92);border-radius:6px;padding:8px 12px;box-shadow:0 2px 8px rgba(0,0,0,.08);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.3);transition:.15s;opacity:0;transform:translateX(-100%);max-width:400px;white-space:nowrap}.demo-banner.show{opacity:1;transform:translateX(0)}.demo-banner-content{display:flex;align-items:center;gap:6px;font-size:13px;color:#333}.demo-icon{font-size:14px;color:#8e44ad}.demo-text{font-weight:500;flex:1;white-space:nowrap}.demo-close{border:none;border-radius:3px;padding:3px 6px;font-size:11px;font-weight:500;cursor:pointer;transition:.2s;background:rgba(142,68,173,.15);color:#8e44ad;min-width:20px;text-align:center}.demo-close:hover{background:rgba(142,68,173,.25);color:#7d3c98}.dark-mode .demo-banner{background:rgba(40,40,40,.95);border:1px solid rgba(255,255,255,.1)}.dark-mode .demo-banner-content{color:#e0e0e0}.dark-mode .demo-icon{color:#bb86fc}.dark-mode .demo-close{background:rgba(187,134,252,.15);color:#bb86fc}.dark-mode .demo-close:hover{background:rgba(187,134,252,.25);color:#9c7fdc}@media (max-width:768px){.banner-container{top:8px;left:8px;right:8px;max-width:none}.demo-banner{padding:12px;white-space:normal;max-width:none}.demo-banner-content{flex-direction:column;align-items:center;gap:10px;font-size:14px;text-align:center}.demo-text{white-space:normal;text-align:center;width:100%;order:2}.demo-icon{font-size:16px;order:1}.demo-close{order:3;padding:8px 12px;font-size:12px;min-height:36px;border-radius:6px}}